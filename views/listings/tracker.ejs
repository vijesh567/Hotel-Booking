<% layout("/layouts/boilerplate") %>

<div class="row ok mt-3">
  <div class="col-8 offset-2">
    <h3 style="color: yellow">Fitness Tracker</h3>

    <div class="mb-3">
      <label for="pushups" class="form-label">Push-ups</label>
      <input type="number" class="form-control" id="pushups" name="pushups" value="0">
    </div>

    <div class="mb-3">
      <label for="pullups" class="form-label">Pull-ups</label>
      <input type="number" class="form-control" id="pullups" name="pullups" value="0">
    </div>

    <div class="mb-3">
      <label for="jumpingJacks" class="form-label">Jumping Jacks</label>
      <input type="number" class="form-control" id="jumpingJacks" name="jumpingJacks" value="0">
    </div>

    <div class="mb-3">
      <label for="plank" class="form-label">Plank (in seconds)</label>
      <input type="number" class="form-control" id="plank" name="plank" value="0">
    </div>

    <form method="POST" action="/fitness-tracker/save">
      <button type="submit" class="btn btn-light track-btn">Save Progress</button>
    </form>

    <div id="progressDisplay" class="mt-3">
      </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const trackButton = document.querySelector('.track-btn');
    const pushupsInput = document.getElementById('pushups');
    const pullupsInput = document.getElementById('pullups');
    const jumpingJacksInput = document.getElementById('jumpingJacks');
    const plankInput = document.getElementById('plank');
    const progressDisplay = document.getElementById('progressDisplay');

    trackButton.addEventListener('click', function() {
      const pushups = parseInt(pushupsInput.value);
      const pullups = parseInt(pullupsInput.value);
      const jumpingJacks = parseInt(jumpingJacksInput.value);
      const plank = parseInt(plankInput.value);

      const progressText = `
        <p><strong>Today's Progress:</strong></p>
        <ul>
          <li>Push-ups: ${pushups}</li>
          <li>Pull-ups: ${pullups}</li>
          <li>Jumping Jacks: ${jumpingJacks}</li>
          <li>Plank: ${plank} seconds</li>
        </ul>
      `;

      progressDisplay.innerHTML = progressText;

      // You would typically send this data to your server here
      // using the form submission instead of JavaScript fetch in this case.
      console.log({ pushups, pullups, jumpingJacks, plank });
    });
  });
</script>
